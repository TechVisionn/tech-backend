<html>
  <head>
    <title>Email Service Test</title>

    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <!-- Bootstrap-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


  </head>
  <body>
    <div class="form-group row">
      <div class="col m-4">
        from addrs: <input id="from_key" type="text" class="form-control" value="zaion.arruda@fatec.sp.gov.br"><br>
        to addrs: <input id="to_key" type="text" class="form-control" value="zaion.arruda@fatec.sp.gov.br"><br>
        cc addrs: <input id="cc_key" type="text" class="form-control" value="zaion.arruda@fatec.sp.gov.br" ><br>
        subject: <input id="subject_key" type="text" class="form-control" value="Testando" ><br>
        content: <input id="content_key" type="text" class="form-control" value="Testando E-email" ><br>

        <button type="button" class="btn btn-outline-success form-control" onclick="send_email()">Enviar</button>
      </div>
    </div>
  </body>

<script type="text/javascript">

function goHome() {
  window.location="/";
}

function send_email() {

  var data = {
              from_addr: $("#from_key").val(),
              to_addrs: $("#to_key").val(),
              cc_addrs: $("#cc_key").val(),
              subject: $("#subject_key").val(),
              content: $("#content_key").val()
            };

  $.ajax ({
    type : "post",
    url : "/send_email",
    data : JSON.stringify(data),
    contentType: "application/json",
    success : function(response) {
                if(response == "OK") {
                  alert("Mensagem enviada!");
                  goHome();
                }
                else
                  alert("Ocorreu algum erro ao enviar!");
              }
    });
}
</script>

</html>
